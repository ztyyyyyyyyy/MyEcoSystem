<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MYECOSYSTEM - Discover Malaysia's Nature</title>
    <script src="https://cdn.tailwindcss.com"></script>
	<script src="https://cdn.tailwindcss.com">
   // --- Story Mode Simulation for Sijangkang ---
function typeWriter(text, elementId, callback) {
    let i = 0;
    const speed = 30;
    const element = document.getElementById(elementId);
    element.innerHTML = "";
    function type() {
        if (i < text.length) {
            element.innerHTML += text.charAt(i);
            i++;
            setTimeout(type, speed);
        } else {
            if (callback) callback();
        }
    }
    type();
}

function startSijangkangQuiz() {
    const simDiv = document.getElementById('sijangkang-simulation');
    const simOptions = document.getElementById('sim-options');
    const quizDiv = document.getElementById('real-quiz-container');
    quizDiv.innerHTML = '';
    quizDiv.classList.add('hidden');
    simDiv.classList.remove('hidden');
    typeWriter("You enter the Sijangkang mangrove forest. Roots twist across the muddy ground. Ahead, a mudskipper jumps out from the sludge.", "sim-text", () => {
        simOptions.classList.remove('hidden');
    });
}

function continueSimulation(choice) {
    const quizDiv = document.getElementById('real-quiz-container');
    const simDiv = document.getElementById('sijangkang-simulation');
    simDiv.classList.add('hidden');
    let reactionText = "";
    if (choice === 'observe') {
        reactionText = "You move closer and observe the mudskipper.Fascinating!";
    } else {
        reactionText = "You continue walking, hearing birds chirp and the wind rustling through the leaves. Nature is truly calming.";
    }
    const questions = [
        {
            question: "Where is Sijangkang located?",
            answers: {
                a: "Kuala Langat",
                b: "Teluk Panglima Garang",
                c: "Kuala Lumpur"
            },
            correct: "a"
        },
        {
            question: "What is a special feature of Sijangkang?",
            answers: {
                a: "A large shopping mall",
                b: "Its mangrove forest",
                c: "A desert landscape"
            },
            correct: "b"
        }
    ];
    let quizHtml = `<p class="mb-4 text-md font-semibold text-emerald-700">${reactionText}</p>`;
    quizHtml += '<h3 class="text-xl font-semibold text-emerald-700 mb-4">Sijangkang Eco-Quiz!</h3>';
    questions.forEach((q, index) => {
        quizHtml += `<div class="question-item">
            <p class="font-medium mb-2">${index + 1}. ${q.question}</p>`;
        for (const [key, value] of Object.entries(q.answers)) {
            quizHtml += `<label class="block text-gray-700"><input type="radio" name="sijangkangQuestion${index}" value="${key}" class="mr-2"> ${value}</label>`;
        }
        quizHtml += `</div>`;
    });
    quizHtml += `<button onclick="submitSijangkangQuiz(${questions.length})" class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 mt-4">Submit Quiz</button>`;
    quizDiv.innerHTML = quizHtml;
    quizDiv.classList.remove('hidden');
}
  </script>
    <style>
        
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #e0f2f7 0%, #d1e7e0 50%, #c8e6c9 100%); 
            color: #1f2937; 
        }

        html {
            scroll-behavior: smooth;
        }
		
		/* Navigation Bar Styles */
        .navbar {
            background-color: #166534; /* Darker green */
            padding: 1rem 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .navbar-brand {
            color: #ecfdf5; /* Light green for brand */
            font-size: 1.8rem;
            font-weight: bold;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .navbar-brand:hover {
            color: #d1fae5;
        }

        .nav-links a {
            color: #ecfdf5;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .nav-links a:hover,
        .nav-links a.active {
            background-color: #34d399; /* Lighter green on hover/active */
            color: #065f46;
        }

        .nav-links a.active {
            font-weight: bold;
        }

        .feedback-post {
            background-color: #ecfdf5; 
            border: 1px solid #d1fae5; 
            padding: 1rem;
            margin-bottom: 0.75rem;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        .question-item {
            margin-bottom: 1rem;
            padding: 1rem;
            background-color: #f0fdf4;
            border-radius: 0.5rem;
            border: 1px solid #d1fae5;
        }

        .question-item label {
            display: block;
            margin-bottom: 0.5rem;
            cursor: pointer;
        }

        .question-item input[type="radio"] {
            margin-right: 0.5rem;
        }

        .page-content.hidden {
            display: none;
        }

        .main-content-area {
            max-width: 5xl;
            margin-left: auto;
            margin-right: auto;
            margin-top: 2rem;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background-color: #ffffff;
            border-radius: 0.5rem;
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
        }

        #scrollToTopBtn {
            display: none; 
            position: fixed; 
            bottom: 20px; 
            right: 30px; 
            z-index: 99; 
            border: none; 
            outline: none;
            background-color: #3CB371; 
            color: white; 
            cursor: pointer; 
            padding: 15px; 
            border-radius: 10px; 
            font-size: 18px; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: background-color 0.3s, transform 0.3s;
        }

        #scrollToTopBtn:hover {
            background-color: #228B22; 
            transform: translateY(-2px);
        }

        .bottom-back-button {
            display: none; 
            background-color: #4CAF50; 
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 2rem; 
            transition: background-color 0.3s, transform 0.3s;
            display: flex; 
            align-items: center;
            justify-content: center;
            width: fit-content; 
            margin-left: auto; 
            margin-right: auto;
        }

        .bottom-back-button:hover {
            background-color: #45a049;
            transform: translateY(-1px);
        }

        .hero-section {
            background: linear-gradient(to right, #3CB371, #2E8B57); 
            color: white;
            padding: 4rem 1rem;
            border-radius: 0.75rem;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            margin-bottom: 2rem;
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hero-section h2 {
            font-size: 3.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero-section p {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            line-height: 1.4;
        }

        .hero-button {
            background-color: #FFD700;
            color: #1f2937;
            padding: 0.75rem 2rem;
            border-radius: 9999px; 
            font-weight: bold;
            font-size: 1.25rem;
            transition: background-color 0.3s, transform 0.3s;
            box-shadow: 0 5px 10px rgba(0,0,0,0.2);
        }

        .hero-button:hover {
            background-color: #DAA520; 
            transform: translateY(-3px);
        }

        .card {
            background-color: #ecfdf5;
            border: 1px solid #d1fae5;
            padding: 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s ease-in-out;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .reaction-question {
            background-color: #e0f2f7;
            padding: 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .emoji-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .emoji-button {
            font-size: 1.8rem;
            cursor: pointer;
            transition: transform 0.2s;
            background: none;
            border: none;
            padding: 0.25rem;
            border-radius: 50%;
        }

        .emoji-button:hover {
            transform: scale(1.2);
        }

        .emoji-button.selected {
            background-color: #d1fae5;
            transform: scale(1.2);
            box-shadow: 0 0 0 3px #3CB371;
        }
		
		.slide {
      display: none;
      position: relative;
      height: 100vh;
      width: 100%;
      background-size: cover;
      background-position: center;
      padding: 60px 30px;
      box-sizing: border-box;
    }
    .slide.active {
      display: block;
      animation: fadeIn 1s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .overlay {
      background: rgba(0, 0, 0, 0.5);
      padding: 20px;
      border-radius: 8px;
      max-width: 700px;
    }
	
	.controls {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 20px;
    }
    .controls button {
      padding: 10px 25px;
      font-size: 16px;
      border: none;
      border-radius: 5px;
      background-color: rgba(255, 255, 255, 0.2);
      color: white;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .controls button:hover {
      background-color: rgba(255, 255, 255, 0.4);
    }
    iframe {
      margin-top: 20px;
      max-width: 100%;
      border: 4px solid rgba(255, 255, 255, 0.6);
    }
	.overlay h1 {
      margin-top: 0;
      font-size: 2.5em;
	  margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      overflow-x: hidden;
      color: #fff;
    }
	.overlay p {
      margin-top: 0;
      font-size: 1.0em;
	  margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      overflow-x: hidden;
      color: #fff;
    }
    </style>
</head>
<body class="antialiased">
    <nav class="navbar">
        <a href="#" class="navbar-brand" onclick="showPage('home-page')">MYECOSYSTEM</a>
        <div class="nav-links">
            <a href="#" onclick="showPage('home-page')" id="home-nav">Home</a>
			<a href="#" onclick="showPage('about-us-page')" id="about-us-nav">About Us</a>
            <a href="#" onclick="showPage('kl-eco-forest-page')" id="kl-eco-forest-nav">KL Eco Forest</a>
            <a href="#" onclick="showPage('sijangkang-page')" id="sijangkang-nav">Sijangkang Mangrove</a>
			<a href="#" onclick="showPage('kesedar-page')" id="kesedar-nav">KESEDAR</a>
        </div>
    </nav>

    <main class="main-content-area">
        <section id="home-page" class="page-content">
            <div class="hero-section">
                <h2 class="text-shadow">Uncover Malaysia's Natural Wonders!</h2>
                <p class="text-shadow">Dive into captivating stories, challenge your knowledge with eco-quizzes, and embark on virtual journeys through Malaysia's breathtaking landscapes.</p>
                <button onclick="showPage('our-pages-section', true)" class="hero-button">Start Your Eco-Adventure!</button>
            </div>

            <h2 class="text-3xl font-bold text-emerald-700 mb-4 pb-2 border-b-2 border-emerald-300">Welcome To Our MyEcoSystem</h2>
            <p class="text-lg mb-4">MyEcoSystem is your gateway to discovering Malaysia's rich natural heritage. We transform academic research into engaging, interactive experiences, making environmental education accessible and exciting for everyone. Whether you're a student, a nature enthusiast, or just curious, our platform offers a unique way to connect with Malaysia's diverse ecosystems.</p>
            <p class="text-lg mb-8">Explore fascinating insights into forest carrying capacities, vital mangrove conservation efforts, and the powerful role of social media in promoting sustainable eco-tourism. Join us in appreciating, exploring, and protecting the natural beauty that surrounds us!</p>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
                <div class="card text-center">
                    <img src="https://www.nothingfamiliar.com/wp-content/uploads/2019/01/What-to-do-in-Kuala-Lumpur-1440x1080.jpg" alt="KL Eco Forest" class="w-full h-auto rounded-lg shadow-md mb-4 mx-auto">
                    <h3 class="text-xl font-semibold text-emerald-800 mb-2">KL Eco Forest</h3>
                    <p class="text-md">A green oasis in the heart of the city. Discover its unique biodiversity and iconic canopy walk.</p>
                </div>
                <div class="card text-center">
                    <img src="https://1.bp.blogspot.com/-Z_ed-Yrf8SQ/V9_nDXng3mI/AAAAAAAAWzo/o10Gdvivbzgsp_xesvFVscHlFLEQejn_gCLcB/s1600/IMG_8895-001.JPG" alt="Sijangkang Mangrove" class="w-full h-auto rounded-lg shadow-md mb-4 mx-auto">
                    <h3 class="text-xl font-semibold text-emerald-800 mb-2">Sijangkang Mangrove</h3>
                    <p class="text-md">Unravel the mysteries of the mangrove ecosystem, a crucial natural defense and wildlife sanctuary.</p>
                </div>
                <div class="card text-center">
                    <img src="https://seeklogo.com/images/K/kesedar-logo-A97C7C5B9E-seeklogo.com.png" alt="KESEDAR" class="w-full h-auto rounded-lg shadow-md mb-4 mx-auto">
                    <h3 class="text-xl font-semibold text-emerald-800 mb-2">KESEDAR Research</h3>
                    <p class="text-md">Delve into regional development and how social media is shaping the future of eco-tourism.</p>
                </div>
            </div>
        </section>

        <section id="about-us-page" class="page-content hidden">
            <h2 class="text-3xl font-bold text-emerald-700 mb-4 pb-2 border-b-2 border-emerald-300">About Us: Our Vision for Nature</h2>
            <p class="text-lg mb-4">"My EcoExperience" is more than just a website; it's a vibrant community hub dedicated to sharing the personal stories and profound experiences of individuals who journey through Malaysia's natural treasures. From serene parks to majestic forests and bustling eco-tourism sites, we believe that personal connection amplifies appreciation.</p>
            <p class="text-lg mb-8">The phrase "Through People and Media" encapsulates our core mission: to showcase how people engage with nature and share their adventures through compelling social media content, insightful videos, and stunning photography. Our platform transforms academic research into digestible, inspiring narratives.</p>
            <h3 class="text-2xl font-semibold text-emerald-800 mt-6 mb-3">Our Guiding Objectives:</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-4">
                <div class="card text-center">
                    <h4 class="text-xl font-bold text-emerald-700 mb-2">Boost Awareness</h4>
                    <p class="text-md">To enhance awareness and understanding of student research on Malaysia's natural attractions and sustainable tourism.</p>
                </div>
                <div class="card text-center">
                    <h4 class="text-xl font-bold text-emerald-700 mb-2">Ignite Engagement</h4>
                    <p class="text-md">To develop an enjoyable, interactive experience that motivates continuous engagement with our platform and its valuable content.</p>
                </div>
                <div class="card text-center">
                    <h4 class="text-xl font-bold text-emerald-700 mb-2">Ensure Accessibility</h4>
                    <p class="text-md">To provide accessible, user-friendly content, tailored to our target audience, on social media's role in promoting natural attractions.</p>
            </div>
			<button onclick="goBack()" class="bottom-back-button">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 =01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                </svg>
                Back
            </button>
        </section>

        <section id="our-pages-section" class="page-content hidden">
            <h2 class="text-3xl font-bold text-emerald-700 mb-4 pb-2 border-b-2 border-emerald-300">Our Eco-Destinations</h2>
            <p class="text-lg mb-6">Embark on a virtual journey through Malaysia's captivating natural attractions. Each destination offers a unique learning experience, from lush forests to vital mangrove ecosystems.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="card text-center">
                    <h3 class="text-2xl font-semibold text-emerald-800 mb-3">KL Eco Forest</h3>
                    <p class="text-md mb-4">Step into an urban jungle oasis. Discover the history, the thrilling canopy walk, and the secrets of sustainable tourism management in the heart of Kuala Lumpur.</p>
                    <button onclick="showPage('kl-eco-forest-page', true)" class="bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105">Explore KL Eco Forest</button>
                </div>
                <div class="card text-center">
                    <h3 class="text-2xl font-semibold text-emerald-800 mb-3">Sijangkang Mangrove</h3>
                    <p class="text-md mb-4">Journey into the critical mangrove ecosystem. Learn about its vital role in protecting coastlines and nurturing diverse wildlife, then test your knowledge with our eco-challenge!</p>
                    <button onclick="showPage('sijangkang-page', true)" class="bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105">Explore Sijangkang</button>
                </div>
                <div class="card text-center">
                    <h3 class="text-2xl font-semibold text-emerald-800 mb-3">KESEDAR Research</h3>
                    <p class="text-md mb-4">Uncover the impactful work of KESEDAR in regional development. Understand how social media plays a pivotal role in promoting and influencing tourism in natural areas.</p>
                    <button onclick="showPage('kesedar-page', true)" class="bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105">Explore KESEDAR</button>
                </div>
            </div>
            <button onclick="goBack()" class="bottom-back-button">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 =01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                </svg>
                Back
            </button>
        </section>

        <section id="kl-eco-forest-page" class="page-content hidden">
            <h2 class="text-3xl font-bold text-emerald-700 mb-4 pb-2 border-b-2 border-emerald-300">KL Forest Eco Park: An Urban Oasis</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <p class="text-lg mb-4">Step into KL Forest Eco Park, one of Malaysia's oldest and most treasured permanent forest reserves. Established in 1906 as Bukit Nanas Forest Reserve, this lush green lung stands proudly amidst Kuala Lumpur's towering skyscrapers, offering a serene escape and a vital ecological haven.</p>
                    <img src="https://www.nothingfamiliar.com/wp-content/uploads/2019/01/What-to-do-in-Kuala-Lumpur-1440x1080.jpg" alt="KL Eco Forest Canopy Walk" class="w-full h-auto rounded-lg shadow-md mt-4 mx-auto block">
                    <p class="text-lg mt-4">Experience the thrill of the canopy walk, suspended high above the forest floor, offering breathtaking panoramic views of the city skyline and the vibrant rainforest below. Learn about the park's crucial role in urban biodiversity and its innovative approaches to sustainable tourism management.</p>

                    <h3 class="text-2xl font-semibold text-emerald-800 mt-6 mb-3">Fun Facts about KL Forest Eco Park:</h3>
                    <ul class="list-disc list-inside text-lg space-y-2">
                        <li>It's the only remaining virgin tropical rainforest in Kuala Lumpur.</li>
                        <li>Home to various species of flora and fauna, including monkeys, birds, and insects.</li>
                        <li>The canopy walk is 200 meters long and 15 meters high.</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-2xl font-semibold text-emerald-800 mb-3">Location & Overview</h3>
                    <p class="mb-2"><strong>Address:</strong> Kuala Lumpur Eco Park, Kuala Lumpur, 57000 Kuala Lumpur, Federal Territory of Kuala Lumpur</p>
                    <p class="text-sm text-gray-600 mt-2"><strong>Opening Hours:</strong> Daily: 9.30am - 6pm</p>

					<button onclick="showPage('kl-eco-forest-story-mode', true)" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-full shadow-lg mt-4">
					Start Virtual Story Mode
					</button>

                    <button onclick="promptKlEcoForestArrival()" class="bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 mt-6">
                        Share Your Experience!
                    </button>
                </div>
            </div>
            <button onclick="goBack()" class="bottom-back-button">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 =01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                </svg>
                Back
            </button>
        </section>
		
		<section id="kl-eco-forest-story-mode" class="page-content hidden">
		<div id="storySlides">
			<section class="slide active" style="background-image: url('https://travelynnfamily.com/wp-content/uploads/2023/09/KL-canopy-walk.jpg');">
			<div class="overlay">
				<h1>Welcome to KL Eco Forest Park</h1>
				<p>KL Eco Park is one of the oldest permanent forest reserves in Malaysia, located in the heart of Kuala Lumpur. Let us guide you through this natural wonder in a step-by-step story mode experience.</p>
			</div>
			</section>
			<section class="slide" style="background-image: url('https://i0.wp.com/1step1footprint.com/wp-content/uploads/2019/12/20191211_102844-1024x768.jpg?resize=696%2C522');">
			<div class="overlay">
				<h1>Canopy Walk</h1>
				<p>Walk among the treetops on the 200-meter-long canopy walkway suspended 21 meters above the forest floor. Get a breathtaking view of the forest canopy and the KL skyline.</p>
				<iframe width="560" height="315" src="https://www.youtube.com/embed/-EkLr6dE71s" title="KL Forest Eco Park Tour" frameborder="0" allowfullscreen></iframe>
			</div>
			</section>

			<section class="slide" style="background-image: url('https://images.squarespace-cdn.com/content/v1/59d91cbac027d8973de77597/1603883637946-Y6NNDZFDFARC36P8KDOP/IMG_2925.JPG');">
			<div class="overlay">
				<h1>Nature Trails</h1>
				<p>Explore forest trails that wind through tropical flora, offering educational insights into Malaysia's rainforest biodiversity and ecosystem.</p>
			</div>
			</section>

			<section class="slide" style="background-image: url('https://i.pinimg.com/736x/8b/08/02/8b0802d35cda6cf25f570e39549e528d.jpg');">
			<div class="overlay">
				<h1>KL Tower View</h1>
				<p>From within the forest, look up to see the majestic KL Tower rising above the trees ‚Äî a unique blend of nature and modern city life.</p>
			</div>
			</section>

			<section class="slide" style="background-image: url('https://www.malaysia.travel/mt-flmngr/files/kl-forest-eco-park/kl-forest-eco-park-hikingtrail2.jpg');">
			<div class="overlay">
				<h1>Discover the Fauna</h1>
				<p>Keep an eye out for long-tailed macaques, squirrels, and exotic birds that call this forest home. The park is a natural classroom!</p>
			</div>
			</section>
			
		<section class="slide" style="background-image: url('https://www.malaysia.travel/storage/8494/conversions/c7d5a9e64c0b45992896a53bf0d91d0b-thumb.jpg');">
		<div class="overlay">
			<h1>End of Tour</h1>
			<p>Thank you for joining the virtual tour of KL Eco Park. We hope this story mode helped you appreciate the balance between urban development and nature preservation.</p>
			<button onclick="showPage('kl-eco-forest-page')" style="margin-top: 20px; padding: 12px 20px; font-size: 16px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">
			üîô Back to KL Eco Forest Page
			</button>
		</div>
		</section>

		</div>
		<div class="controls flex justify-center mt-6 space-x-4">
			<button id="prevBtn" class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded">‚¨ÖÔ∏è Previous</button>
			<button id="nextBtn" class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded">Next ‚û°Ô∏è</button>
		</div>
		</section>

        <section id="kl-eco-forest-arrival-prompt" class="page-content hidden">
            <h2 class="text-3xl font-bold text-emerald-700 mb-4 pb-2 border-b-2 border-emerald-300">KL Eco Forest: Are You Here?</h2>
            <div class="bg-emerald-100 p-6 rounded-lg shadow-md text-center">
                <p class="text-xl font-semibold text-emerald-800 mb-6">Are you currently at KL Forest Eco Park?</p>
                <div class="flex justify-center space-x-4">
                    <button onclick="handleKlEcoForestArrival(true)" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
                        Yes, I'm here!
                    </button>
                    <button onclick="handleKlEcoForestArrival(false)" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
                        No, show me the map!
                    </button>
                </div>
            </div>
            <button onclick="goBack()" class="bottom-back-button">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 =01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                </svg>
                Back
            </button>
        </section>

        <section id="kl-eco-forest-map-display" class="page-content hidden">
            <h2 class="text-3xl font-bold text-emerald-700 mb-4 pb-2 border-b-2 border-emerald-300">KL Eco Forest: Find Your Way!</h2>
            <p class="text-lg mb-6">Planning your visit? Here's the map to KL Forest Eco Park. We hope to see you there soon to share your reactions!</p>
            <div class="relative pb-[75%] h-0 overflow-hidden max-w-full bg-gray-200 rounded-md shadow-sm">
                <iframe id="kl-forest-map-iframe" src="" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" class="absolute top-0 left-0"></iframe>
            </div>
            <p class="text-sm text-gray-600 mt-2"><strong>Address:</strong> Kuala Lumpur Eco Park, Kuala Lumpur, 57000 Kuala Lumpur, Federal Territory of Kuala Lumpur</p>
            <p class="text-sm text-gray-600"><strong>Opening Hours:</strong> Daily: 9.30am - 6pm</p>
            <button onclick="goBack()" class="bottom-back-button">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 =01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                </svg>
                Back
            </button>
        </section>


        <section id="kl-eco-forest-reaction-page" class="page-content hidden">
            <h2 class="text-3xl font-bold text-emerald-700 mb-4 pb-2 border-b-2 border-emerald-300">KL Eco Forest: Your Reactions!</h2>
            <p class="text-lg mb-6">We'd love to hear your live reactions from KL Forest Eco Park. Click on the emojis to share your thoughts!</p>

            <div class="space-y-4">
                <div id="kl-forest-crowd-reaction" class="reaction-question">
                    <p class="font-medium text-emerald-800">How would you describe the crowd levels?</p>
                    <div class="emoji-buttons">
                        <button class="emoji-button" data-emoji="thumbsUp" onclick="recordKlEcoForestReaction('kl-forest-crowd-reaction', 'thumbsUp')">üëç</button>
                        <button class="emoji-button" data-emoji="heart" onclick="recordKlEcoForestReaction('kl-forest-crowd-reaction', 'heart')">‚ù§Ô∏è</button>
                        <button class="emoji-button" data-emoji="happy" onclick="recordKlEcoForestReaction('kl-forest-crowd-reaction', 'happy')">üòä</button>
                        <button class="emoji-button" data-emoji="neutral" onclick="recordKlEcoForestReaction('kl-forest-crowd-reaction', 'neutral')">üòê</button>
                        <button class="emoji-button" data-emoji="sad" onclick="recordKlEcoForestReaction('kl-forest-crowd-reaction', 'sad')">üòû</button>
                    </div>
                </div>

                <div id="kl-forest-feeling-reaction" class="reaction-question">
                    <p class="font-medium text-emerald-800">How did you feel during your visit?</p>
                    <div class="emoji-buttons">
                        <button class="emoji-button" data-emoji="thumbsUp" onclick="recordKlEcoForestReaction('kl-forest-feeling-reaction', 'thumbsUp')">üëç</button>
                        <button class="emoji-button" data-emoji="heart" onclick="recordKlEcoForestReaction('kl-forest-feeling-reaction', 'heart')">‚ù§Ô∏è</button>
                        <button class="emoji-button" data-emoji="happy" onclick="recordKlEcoForestReaction('kl-forest-feeling-reaction', 'happy')">üòä</button>
                        <button class="emoji-button" data-emoji="neutral" onclick="recordKlEcoForestReaction('kl-forest-feeling-reaction', 'neutral')">üòê</button>
                        <button class="emoji-button" data-emoji="sad" onclick="recordKlEcoForestReaction('kl-forest-feeling-reaction', 'sad')">üòû</button>
                    </div>
                </div>
            </div>

            <button onclick="goBack()" class="bottom-back-button">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 =01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                </svg>
                Back
            </button>
        </section>

        <section class="page-content hidden" id="sijangkang-page">
			<h2 class="text-3xl font-bold text-emerald-700 mb-4 pb-2 border-b-2 border-emerald-300">Sijangkang Mangrove Park: Nature's Coastal Guardian</h2>
		<div class="grid grid-cols-1 md:grid-cols-2 gap-8">
		<div>
			<p class="text-lg mb-4">Nestled in Selangor, Malaysia, near Telok Panglima Garang, Sijangkang is a tranquil village renowned for its warm community, rich cultural heritage, and most importantly, its vibrant mangrove forest. These incredible ecosystems are more than just beautiful landscapes; they are crucial natural defenses, protecting the land from erosion and floods while serving as vital nurseries for countless marine and terrestrial species.</p>
			<img alt="Sijangkang Mangrove Entrance" class="w-full h-auto rounded-lg shadow-md mt-4 mx-auto block" src="https://1.bp.blogspot.com/-Z_ed-Yrf8SQ/V9_nDXng3mI/AAAAAAAAWzo/o10Gdvivbzgsp_xesvFVscHlFLEQejn_gCLcB/s1600/IMG_8895-001.JPG"/>
			<p class="text-lg mt-4">Discover the intricate web of life sustained by the mangroves ‚Äì from unique mudskippers to diverse birdlife. Learn about the community's efforts in preserving this invaluable natural treasure and the delicate balance that keeps this ecosystem thriving.</p>
		<div class="mt-6 p-4 bg-emerald-100 rounded-md shadow-sm text-center" id="sijangkang-map-prompt-container">
			<p class="text-lg font-semibold text-emerald-800 mb-3">Curious to see where these natural wonders thrive? Find Sijangkang on the map!</p>
			<button class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 mr-2" onclick="showMapPromptInteraction('sijangkang', true)">Yes, show me the map!</button>
			<button class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105" onclick="showMapPromptInteraction('sijangkang', false)">No, thanks.</button>
		</div>
		</div>
		<div>
			<h3 class="text-2xl font-semibold text-emerald-800 mb-3">Location &amp; Map</h3>
			<p class="mb-2"><strong>Address:</strong> Sijangkang, Selangor, Malaysia (Specific location within the park may vary)</p>
		<div class="relative pb-[75%] h-0 overflow-hidden max-w-full bg-gray-200 rounded-md shadow-sm hidden" id="sijangkang-map-container">
			<iframe allowfullscreen="" class="absolute top-0 left-0" height="100%" loading="lazy" referrerpolicy="no-referrer-when-downgrade" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3984.739763780373!2d101.44298131475635!3d2.906669998188377!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31cdb59218d6e32d%3A0x6a053c713a69a47a!2sTaman%20Rekreasi%20Paya%20Bakau%20Sijangkang!5e0!3m2!1sen!2smy!4v1678888888888!5m2!1sen!2smy" style="border:0;" width="100%"></iframe>
		</div>
		<p class="text-sm text-gray-600 mt-2"><strong>Best time to visit:</strong> Check local tides for optimal viewing of mangrove life.</p>
		<h3 class="text-2xl font-semibold text-emerald-800 mt-6 mb-3">Dive into the Mangrove Mystery: Sijangkang Eco-Challenge!</h3>
		<p class="text-md mb-4">Ready to explore the secrets of Sijangkang's vibrant ecosystem? Put your knowledge to the test and uncover the wonders of the mangroves!</p>
		<button class="bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105" onclick="startSijangkangQuiz()">Start Sijangkang Quiz</button>
		<div class="mt-4 text-left p-4 bg-emerald-100 rounded-md" id="sijangkang-quiz-container">
			<div class="text-left" id="sijangkang-simulation">
				<h3 class="text-xl font-bold text-emerald-800 mb-2">üåø Sijangkang Eco-Story Mode</h3>
				<p class="text-md mb-4" id="sim-text"></p>
			<div class="space-y-2 hidden" id="sim-options">
				<button class="bg-emerald-600 hover:bg-emerald-700 text-white py-2 px-4 rounded-full" onclick="continueSimulation('observe')">üîç Take a closer look</button>
				<button class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-full" onclick="continueSimulation('walk')">üö∂ Continue walking</button>
			</div>
			</div>
		<div class="hidden mt-4 text-left p-4 bg-emerald-100 rounded-md" id="real-quiz-container"></div>
		</div>
		</div>
		</div>
		<button class="bottom-back-button" onclick="goBack()">
		<svg class="h-5 w-5 mr-2" fill="currentColor" viewbox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
			<path clip-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 =01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" fill-rule="evenodd"></path>
		</svg>
            Back
        </button>
		</section>

        <section id="kesedar-page" class="page-content hidden">
            <h2 class="text-3xl font-bold text-emerald-700 mb-4 pb-2 border-b-2 border-emerald-300">KESEDAR Research: Shaping Regional Futures</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <p class="text-lg mb-4">The South Kelantan Development Authority (KESEDAR), established on 1 May 1978, plays a pivotal role in balancing population distribution, alleviating poverty, and restructuring society in South Kelantan. This region, characterized by its hilly terrain with nearly 50% slopes exceeding $25^{\circ}$, presents unique developmental challenges. Despite its vast area, only 20% holds potential for agricultural expansion, emphasizing the importance of strategic planning and diversified growth.</p>
                    <img src="https://www.kesedar.gov.my/wp-content/uploads/2023/06/Majlis-Perjumpaan-Pengurus-Besar-dengan-Penjawat-KESEDAR.jpg" alt="KESEDAR Building" class="w-full h-auto rounded-lg shadow-md mt-4 mx-auto block">
                    <p class="text-lg mt-4">KESEDAR's initiatives extend beyond traditional development, focusing on sustainable practices and leveraging modern tools like social media to promote tourism in natural areas. Explore how their research contributes to a balanced and prosperous future for the region.</p>

                    <h3 class="text-2xl font-semibold text-emerald-800 mb-3">Location & Map</h3>
                    <p class="mb-2"><strong>Headquarters:</strong> Gua Musang, Kelantan (formerly Kota Bharu)</p>
                    <div id="kesedar-map-container" class="relative pb-[75%] h-0 overflow-hidden max-w-full bg-gray-200 rounded-md shadow-sm hidden">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7967.625488102375!2d102.00000000000001!3d4.8500000000000005!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31b519b7803a5555%3A0x6a053c713a69a47a!2sGua%20Musang%2C%20Kelantan%2C%20Malaysia!5e0!3m2!1sen!2smy!4v1678888888888!5m2!1sen!2smy" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" class="absolute top-0 left-0"></iframe>
                    </div>

                    <div id="kesedar-map-prompt-container" class="mt-6 p-4 bg-emerald-100 rounded-md shadow-sm text-center">
                        <p class="text-lg font-semibold text-emerald-800 mb-3">Interested in KESEDAR's central hub? See their headquarters on the map!</p>
                        <button onclick="showMapPromptInteraction('kesedar', true)" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 mr-2">Yes, show me the map!</button>
                        <button onclick="showMapPromptInteraction('kesedar', false)" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105">No, thanks.</button>
                    </div>
                </div>
                <div>
                    <h3 class="text-2xl font-semibold text-emerald-800 mb-3">Key Areas of KESEDAR's Impact:</h3>
                    <ul class="list-disc list-inside text-lg space-y-2">
                        <li><strong>Poverty Eradication:</strong> Implementing programs to uplift communities and improve living standards.</li>
                        <li><strong>Social Restructuring:</strong> Fostering balanced growth and equitable opportunities across the region.</li>
                        <li><strong>Sustainable Tourism:</strong> Promoting natural attractions responsibly, often leveraging social media for outreach.</li>
                        <li><strong>Agricultural Development:</strong> Identifying and maximizing the potential of limited agricultural land.</li>
                    </ul>
                    <p class="text-lg mt-4">KESEDAR's pioneering efforts continue to shape the socio-economic landscape of South Kelantan, ensuring a harmonious balance between development and environmental preservation.</p>
                </div>
            </div>
            <button onclick="goBack()" class="bottom-back-button">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 =01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                </svg>
                Back
            </button>
        </section>

    </main>

    <button onclick="topFunction()" id="scrollToTopBtn" title="Go to top">‚Üë Top</button>

    <footer class="bg-emerald-700 text-white py-6 text-center mt-8 rounded-t-lg shadow-inner">
        <p class="text-md">¬© 2025 MYECOSYSTEM. All rights reserved.</p>
    </footer>

</body>

<script>
        let pageHistory = [];
        let currentPageId = 'home-page'; 

        function showPage(pageId, pushToHistory = true) {
            // If navigating from a link, push the current page to history
            if (pushToHistory && currentPageId !== pageId) {
                pageHistory.push(currentPageId);
            }

            const pages = document.querySelectorAll('.page-content');
            pages.forEach(page => {
                page.classList.add('hidden');
            });
            document.getElementById(pageId).classList.remove('hidden');
            currentPageId = pageId; 

            const backButtons = document.querySelectorAll('.bottom-back-button');
            if (pageHistory.length > 0) {
                backButtons.forEach(button => button.style.display = 'flex'); 
            } else {
                backButtons.forEach(button => button.style.display = 'none'); 
            }

            document.querySelector('.main-content-area').scrollIntoView({ behavior: 'smooth' });
        }

        function goBack() {
            if (pageHistory.length > 0) {
                const previousPageId = pageHistory.pop();
                showPage(previousPageId, false);
            } else {
                showPage('home-page', false);
            }
        }

        function submitParkFeedback(parkName) {
            const feedbackTextId = `${parkName}-feedback-text`;
            const reactionBoardId = `${parkName}-reaction-board-posts`;

            const feedbackText = document.getElementById(feedbackTextId).value;
            const reactionBoardPosts = document.getElementById(reactionBoardId);

            if (feedbackText.trim() !== '') {
                const newPost = document.createElement('div');
                newPost.classList.add('feedback-post');
                newPost.innerHTML = `
                    <p class="font-medium text-emerald-800"><strong>Anonymous User:</strong> ${feedbackText}</p>
                    <small class="text-gray-500">Posted on: ${new Date().toLocaleDateString()}</small>
                `;
                reactionBoardPosts.prepend(newPost); // Add to the top of the reaction board
                document.getElementById(feedbackTextId).value = ''; // Clear textarea
            } else {
                const messageBox = document.createElement('div');
                messageBox.className = 'fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50';
                messageBox.innerHTML = `
                    <div class="bg-white p-8 rounded-lg shadow-xl text-center">
                        <h3 class="text-2xl font-bold text-red-700 mb-4">Input Required!</h3>
                        <p class="text-xl mb-6">Please enter some feedback before submitting.</p>
                        <button onclick="this.parentNode.parentNode.remove()" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out">Close</button>
                    </div>
                `;
                document.body.appendChild(messageBox);
            }
        }

        // Function to start the Sijangkang-specific eco-quiz
        function startSijangkangQuiz() {
            const quizContainer = document.getElementById('sijangkang-quiz-container');
            quizContainer.innerHTML = ''; 
            quizContainer.classList.remove('hidden'); 

            const questions = [
                {
                    question: "Where is Sijangkang located?",
                    answers: {
                        a: "Kuala Langat",
                        b: "Teluk Panglima Garang",
                        c: "Kuala Lumpur"
                    },
                    correct: "a" 
                },
                {
                    question: "What is a special feature of Sijangkang?",
                    answers: {
                        a: "A large shopping mall",
                        b: "Its mangrove forest",
                        c: "A desert landscape"
                    },
                    correct: "b"
                }
            ];

            let quizHtml = '<h3 class="text-xl font-semibold text-emerald-700 mb-4">Sijangkang Eco-Quiz!</h3>';
            questions.forEach((q, index) => {
                quizHtml += `<div class="question-item">
                    <p class="font-medium mb-2">${index + 1}. ${q.question}</p>`;
                for (const [key, value] of Object.entries(q.answers)) {
                    quizHtml += `<label class="block text-gray-700"><input type="radio" name="sijangkangQuestion${index}" value="${key}" class="mr-2"> ${value}</label>`;
                }
                quizHtml += `</div>`;
            });
            quizHtml += `<button onclick="submitSijangkangQuiz(${questions.length})" class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 mt-4">Submit Answers</button>`;
            quizContainer.innerHTML = quizHtml;
        }

        // Function to submit Sijangkang quiz answers
        function submitSijangkangQuiz(numQuestions) {
            const quizContainer = document.getElementById('sijangkang-quiz-container');
            let score = 0;
            const correctAnswers = ["a", "b"]; // Correct answers for Sijangkang quiz

            for (let i = 0; i < numQuestions; i++) {
                const selectedAnswer = document.querySelector(`input[name="sijangkangQuestion${i}"]:checked`);
                if (selectedAnswer && selectedAnswer.value === correctAnswers[i]) {
                    score++;
                }
            }

            const messageBox = document.createElement('div');
            messageBox.className = 'fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50';
            messageBox.innerHTML = `
                <div class="bg-white p-8 rounded-lg shadow-xl text-center">
                    <h3 class="text-2xl font-bold text-emerald-700 mb-4">Quiz Results!</h3>
                    <p class="text-xl mb-6">You scored <span class="font-extrabold text-emerald-600">${score}</span> out of <span class="font-extrabold text-emerald-600">${numQuestions}</span>!</p>
                    <button onclick="this.parentNode.parentNode.remove()" class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out">Close</button>
                </div>
            `;
            document.body.appendChild(messageBox);

            quizContainer.classList.add('hidden'); // Hide quiz after submission
        }

        function shareContent() {
            if (navigator.share) {
                navigator.share({
                    title: document.title,
                    text: "Check out MYECOSYSTEM, an awesome platform for learning about Malaysia's nature!",
                    url: window.location.href
                }).then(() => {
                    console.log('Thanks for sharing!');
                }).catch((error) => {
                    console.error('Error sharing:', error);
                    const messageBox = document.createElement('div');
                    messageBox.className = 'fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50';
                    messageBox.innerHTML = `
                        <div class="bg-white p-8 rounded-lg shadow-xl text-center">
                            <h3 class="text-2xl font-bold text-orange-700 mb-4">Sharing Failed!</h3>
                            <p class="text-xl mb-6">Could not share content. Please try copying the URL manually.</p>
                            <button onclick="this.parentNode.parentNode.remove()" class="bg-orange-600 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out">Close</button>
                        </div>
                    `;
                    document.body.appendChild(messageBox);
                });
            } else {
                const messageBox = document.createElement('div');
                messageBox.className = 'fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50';
                messageBox.innerHTML = `
                    <div class="bg-white p-8 rounded-lg shadow-xl text-center">
                        <h3 class="2xl font-bold text-blue-700 mb-4">Sharing Not Supported</h3>
                        <p class="text-xl mb-6">Your browser does not support direct sharing. Please copy the URL:</p>
                        <input type="text" value="${window.location.href}" readonly class="w-full p-2 border rounded-md mb-4 text-center">
                        <button onclick="this.parentNode.parentNode.remove()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out">Close</button>
                    </div>
                `;
                document.body.appendChild(messageBox);
            }
        }

        let mybutton;

        function scrollFunction() {
            if (!mybutton) {
                mybutton = document.getElementById("scrollToTopBtn");
                if (!mybutton) return; 
            }
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                mybutton.style.display = "block";
            } else {
                mybutton.style.display = "none";
            }
        }

        function topFunction() {
            document.body.scrollTop = 0; // For Safari
            document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
        }

        function showMapPromptInteraction(parkId, show) {
            const mapContainer = document.getElementById(`${parkId}-map-container`);
            const mapPromptContainer = document.getElementById(`${parkId}-map-prompt-container`);

            if (show) {
                mapContainer.classList.remove('hidden');
                mapPromptContainer.classList.add('hidden'); // Hide the prompt and buttons
            } else {
                mapContainer.classList.add('hidden');
                const messageBox = document.createElement('div');
                messageBox.className = 'fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50';
                messageBox.innerHTML = `
                    <div class="bg-white p-8 rounded-lg shadow-xl text-center">
                        <h3 class="text-2xl font-bold text-gray-700 mb-4">No Problem!</h3>
                        <p class="text-xl mb-6">You can always come back and view the map later.</p>
                        <button onclick="this.parentNode.parentNode.remove()" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out">Close</button>
                    </div>
                `;
                document.body.appendChild(messageBox);
            }
        }

        // --- NEW KL Eco Forest Reaction Board Logic ---

        // Function to show the "Are you here?" prompt for KL Eco Forest
        function promptKlEcoForestArrival() {
            showPage('kl-eco-forest-arrival-prompt', true);
            // Ensure the map and reaction board are hidden initially
            document.getElementById('kl-forest-map-display').classList.add('hidden');
            document.getElementById('kl-forest-reaction-questions').classList.add('hidden');
        }

        // Function to handle "Yes, I'm here!" for KL Eco Forest
        function handleKlEcoForestArrival(isArrived) {
            if (isArrived) {
                showPage('kl-eco-forest-reaction-page', true); // Go to reaction board
                loadKlEcoForestReactions(); // Load existing reactions
            } else {
                showPage('kl-eco-forest-map-display', true); // Show the map
                document.getElementById('kl-forest-map-iframe').src = "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3984.004128549646!2d101.70119867497129!3d3.151745496841386!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31cc4821a812328d%3A0x6b8764028d096a58!2sKL%20Forest%20Eco%20Park!5e0!3m2!1sen!2smy!4v1700000000000!5m2!1sen!2smy"; // Example Google Maps embed URL
            }
        }

        // Function to record an emoji reaction
        function recordKlEcoForestReaction(questionId, emoji) {
            let reactions = JSON.parse(localStorage.getItem('klEcoForestReactions')) || {};
            reactions[questionId] = emoji;
            localStorage.setItem('klEcoForestReactions', JSON.stringify(reactions));
            
            // Visually update the selected emoji
            const questionElement = document.getElementById(questionId);
            const buttons = questionElement.querySelectorAll('.emoji-button');
            buttons.forEach(button => {
                if (button.dataset.emoji === emoji) {
                    button.classList.add('selected');
                } else {
                    button.classList.remove('selected');
                }
            });

            // Show a temporary confirmation message
            const messageBox = document.createElement('div');
            messageBox.className = 'fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50';
            messageBox.innerHTML = `
                <div class="bg-white p-8 rounded-lg shadow-xl text-center">
                    <h3 class="text-2xl font-bold text-emerald-700 mb-4">Reaction Recorded!</h3>
                    <p class="text-xl mb-6">Thank you for your input!</p>
                    <button onclick="this.parentNode.parentNode.remove()" class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out">Close</button>
                </div>
            `;
            document.body.appendChild(messageBox);
        }

        // Function to load and display previous reactions
        function loadKlEcoForestReactions() {
            let reactions = JSON.parse(localStorage.getItem('klEcoForestReactions')) || {};

            // Apply selected class to previously chosen emojis
            Object.keys(reactions).forEach(questionId => {
                const questionElement = document.getElementById(questionId);
                if (questionElement) {
                    const selectedEmoji = reactions[questionId];
                    const buttons = questionElement.querySelectorAll('.emoji-button');
                    buttons.forEach(button => {
                        if (button.dataset.emoji === selectedEmoji) {
                            button.classList.add('selected');
                        } else {
                            button.classList.remove('selected');
                        }
                    });
                }
            });
        }


        // Initial page load: show home page and initialize history
        document.addEventListener('DOMContentLoaded', () => {
            showPage('home-page', false); // Show home page without pushing to history initially

            // Initialize mybutton and assign onscroll listener after DOM is loaded
            mybutton = document.getElementById("scrollToTopBtn");
            window.onscroll = function() {scrollFunction()};
        });
		
		const slides = document.querySelectorAll('#kl-eco-forest-story-mode .slide');
		let currentSlide = 0;

		document.getElementById('nextBtn').addEventListener('click', () => {
		slides[currentSlide].classList.remove('active');
		currentSlide = (currentSlide + 1) % slides.length;
		slides[currentSlide].classList.add('active');
		});

		document.getElementById('prevBtn').addEventListener('click', () => {
		slides[currentSlide].classList.remove('active');
		currentSlide = (currentSlide - 1 + slides.length) % slides.length;
		slides[currentSlide].classList.add('active');
		});
		
		// --- Story Mode Simulation for Sijangkang ---
function typeWriter(text, elementId, callback) {
    let i = 0;
    const speed = 30;
    const element = document.getElementById(elementId);
    element.innerHTML = "";
    function type() {
        if (i < text.length) {
            element.innerHTML += text.charAt(i);
            i++;
            setTimeout(type, speed);
        } else {
            if (callback) callback();
        }
    }
    type();
}

function startSijangkangQuiz() {
    const simDiv = document.getElementById('sijangkang-simulation');
    const simOptions = document.getElementById('sim-options');
    const quizDiv = document.getElementById('real-quiz-container');
    quizDiv.innerHTML = '';
    quizDiv.classList.add('hidden');
    simDiv.classList.remove('hidden');
    typeWriter("You enter the Sijangkang mangrove forest. Roots twist across the muddy ground. Ahead, a mudskipper jumps out from the sludge.", "sim-text", () => {
        simOptions.classList.remove('hidden');
    });
}

function continueSimulation(choice) {
    const quizDiv = document.getElementById('real-quiz-container');
    const simDiv = document.getElementById('sijangkang-simulation');
    simDiv.classList.add('hidden');
    let reactionText = "";
    if (choice === 'observe') {
        reactionText = "You move closer and observe the mudskipper. It's breathing through its gills and skin. Fascinating!";
    } else {
        reactionText = "You continue walking, hearing birds chirp and the wind rustling through the leaves. Nature is truly calming.";
    }
    const questions = [
        {
            question: "Where is Sijangkang located?",
            answers: {
                a: "Kuala Langat",
                b: "Teluk Panglima Garang",
                c: "Kuala Lumpur"
            },
            correct: "a"
        },
        {
            question: "What is a special feature of Sijangkang?",
            answers: {
                a: "A large shopping mall",
                b: "Its mangrove forest",
                c: "A desert landscape"
            },
            correct: "b"
        }
    ];
    let quizHtml = `<p class="mb-4 text-md font-semibold text-emerald-700">${reactionText}</p>`;
    quizHtml += '<h3 class="text-xl font-semibold text-emerald-700 mb-4">Sijangkang Eco-Quiz!</h3>';
    questions.forEach((q, index) => {
        quizHtml += `<div class="question-item">
            <p class="font-medium mb-2">${index + 1}. ${q.question}</p>`;
        for (const [key, value] of Object.entries(q.answers)) {
            quizHtml += `<label class="block text-gray-700"><input type="radio" name="sijangkangQuestion${index}" value="${key}" class="mr-2"> ${value}</label>`;
        }
        quizHtml += `</div>`;
    });
    quizHtml += `<button onclick="submitSijangkangQuiz(${questions.length})" class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 mt-4">Submit Quiz</button>`;
    quizDiv.innerHTML = quizHtml;
    quizDiv.classList.remove('hidden');
}
  </script>
  
  <script>
   function showSijangkangQuiz() {
    const quizDiv = document.getElementById('real-quiz-container');
    const questions = [
        {
            question: "Where is Sijangkang located?",
            answers: {
                a: "Kuala Langat",
                b: "Teluk Panglima Garang",
                c: "Kuala Lumpur"
            },
            correct: "a"
        },
        {
            question: "What is a special feature of Sijangkang?",
            answers: {
                a: "A large shopping mall",
                b: "Its mangrove forest",
                c: "A desert landscape"
            },
            correct: "b"
        }
    ];
    let quizHtml = '<h3 class="text-xl font-semibold text-emerald-700 mb-4">Sijangkang Eco-Quiz!</h3>';
    questions.forEach((q, index) => {
        quizHtml += `<div class="question-item">
            <p class="font-medium mb-2">${index + 1}. ${q.question}</p>`;
        for (const [key, value] of Object.entries(q.answers)) {
            quizHtml += `<label class="block text-gray-700"><input type="radio" name="sijangkangQuestion${index}" value="${key}" class="mr-2"> ${value}</label>`;
        }
        quizHtml += `</div>`;
    });
    quizHtml += `<button onclick="submitSijangkangQuiz(${questions.length})" class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 mt-4">Submit Quiz</button>`;
    quizDiv.innerHTML = quizHtml;
}

function continueSimulation(choice) {
    const quizDiv = document.getElementById('real-quiz-container');
    const simDiv = document.getElementById('sijangkang-simulation');
    simDiv.classList.add('hidden');
    let reactionText = "";
    if (choice === 'observe') {
        reactionText = "You move closer and observe the mudskipper. It's breathing through its gills and skin. Fascinating!";
    } else {
        reactionText = "You continue walking, hearing birds chirp and the wind rustling through the leaves. Nature is truly calming.";
    }

    let continueButtonHtml = `<p class="mb-4 text-md font-semibold text-emerald-700">${reactionText}</p>`;
    continueButtonHtml += `<button onclick="showSijangkangQuiz()" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 mt-4">üåç Begin Your Eco-Mission Now!</button>`;

    quizDiv.innerHTML = continueButtonHtml;
    quizDiv.classList.remove('hidden');
}
  </script>
</html>